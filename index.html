<!doctype html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô 2026</title>
    <link rel="icon" href="imgs/2054.jpg" type="image/png" />

    <style>
      /* ===== UI ‡πÄ‡∏î‡∏¥‡∏° (‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏∞) ===== */
      :root {
        --bg: #f2f2f7;
        --card: #fff;
        --text: #111;
        --muted: #666;
      }
      * {
        box-sizing: border-box;
      }
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui,
          sans-serif;
        background: var(--bg);
        margin: 0;
        padding: 14px;
        color: var(--text);
        display: flex;
        justify-content: center;
      }
      .container {
        width: 100%;
        max-width: 820px;
      }
      h1 {
        font-size: 1.4rem;
        margin-bottom: 12px;
      }
      .card {
        background: var(--card);
        border-radius: 18px;
        padding: 14px;
        margin-bottom: 14px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
      }
      .card h3 {
        margin-top: 0;
      }
      .row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 6px 0;
        font-size: 0.9rem;
        gap: 10px;
      }
      .label {
        color: var(--muted);
      }
      select,
      input,
      button {
        width: 100%;
        height: 48px;
        padding: 0 14px;
        border-radius: 14px;
        border: 1px solid #d1d5db;
        font-size: 1rem;
        margin-bottom: 6px;
      }
      button {
        background: #3c3d3e;
        color: #fff;
        border: none;
        font-weight: 600;
        margin-top: 8px;
      }
      .table-wrap {
        overflow-x: auto;
      }
      table {
        width: 100%;
        min-width: 700px;
        border-collapse: collapse;
        font-size: 0.8rem;
      }
      th,
      td {
        padding: 8px 6px;
        border-bottom: 1px solid #eee;
        text-align: center;
        white-space: nowrap;
      }
      th {
        background: #f9fafb;
      }
      .left {
        text-align: left;
      }
      th:first-child,
      td:first-child {
        position: sticky;
        left: 0;
        background: #fff;
      }
      th:first-child {
        background: #f1f5f9;
      }
      hr {
        border: none;
        border-top: 1px solid #eee;
        margin: 10px 0;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h1>‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô 2026</h1>

      <div class="card">
        <h3>‚ûï ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏°</h3>
        <select id="month"></select>
        <input type="number" id="extra" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏°" />
        <button onclick="addExtra()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      </div>

      <div class="card">
        <h3>üìä ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏ú‡∏ô‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</h3>
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</th>
                <th>‡πÉ‡∏ä‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏£‡∏ß‡∏°</th>
                <th>‡∏≠‡∏≠‡∏°‡∏´‡∏•‡∏±‡∏Å</th>
                <th>‡∏≠‡∏≠‡∏°‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß</th>
                <th>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏°</th>
              </tr>
            </thead>
            <tbody id="status"></tbody>
          </table>
        </div>
      </div>

      <div class="card">
        <h3>üè¶ ‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏≠‡∏á‡∏≠‡∏≠‡∏° / ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</h3>
        <div class="row">
          <span class="label">üö® ‡πÄ‡∏á‡∏¥‡∏ô‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</span><span id="emergency">0</span>
        </div>
        <div class="row">
          <span class="label">üè¶ ‡∏â‡∏•‡∏≤‡∏Å‡∏≠‡∏≠‡∏°‡∏™‡∏¥‡∏ô</span><span id="saving">0</span>
        </div>
        <div class="row">
          <span class="label">üßì ‡∏Å‡∏≠‡∏ä.</span><span id="nsf">0</span>
        </div>
        <div class="row">
          <span class="label">üü° ‡∏≠‡∏≠‡∏°‡∏ó‡∏≠‡∏á</span><span id="gold">0</span>
        </div>
        <hr />
        <div class="row">
          <strong>‡∏£‡∏ß‡∏°‡∏≠‡∏≠‡∏°‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</strong><strong id="mainMonth">0</strong>
        </div>
      </div>

      <div class="card">
        <h3>üè¶ ‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏≠‡∏á‡∏≠‡∏≠‡∏° / ‡∏õ‡∏µ (‡∏≠‡∏≠‡∏°‡∏´‡∏•‡∏±‡∏Å)</h3>
        <div class="row">
          <span class="label">üö® ‡πÄ‡∏á‡∏¥‡∏ô‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</span><span>70,000</span>
        </div>
        <div class="row">
          <span class="label">üè¶ ‡∏â‡∏•‡∏≤‡∏Å‡∏≠‡∏≠‡∏°‡∏™‡∏¥‡∏ô</span><span>15,200</span>
        </div>
        <div class="row">
          <span class="label">üßì ‡∏Å‡∏≠‡∏ä.</span><span>12,000</span>
        </div>
        <div class="row">
          <span class="label">üü° ‡∏≠‡∏≠‡∏°‡∏ó‡∏≠‡∏á</span><span>8,900</span>
        </div>
        <hr />
        <div class="row">
          <strong>‡∏£‡∏ß‡∏°‡∏≠‡∏≠‡∏°‡∏´‡∏•‡∏±‡∏Å</strong><strong>106,100</strong>
        </div>
        <div class="row">
          <strong>‡∏£‡∏ß‡∏°‡∏≠‡∏≠‡∏°‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß</strong><strong id="travelSave">0</strong>
        </div>
      </div>

      <div class="card">
        <h3>üí∞ ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏∞‡∏™‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
        <h2 id="total">0 ‡∏ö‡∏≤‡∏ó</h2>
      </div>
    </div>

    <script>
      const plan = {
        "‡∏°.‡∏Ñ.": { life: 12650, main: 9500, travel: 2100 },
        "‡∏Å.‡∏û.": { life: 12650, main: 9500, travel: 2100 },
        "‡∏°‡∏µ.‡∏Ñ.": { life: 12650, main: 9500, travel: 2100 },
        "‡πÄ‡∏°.‡∏¢.": { life: 19650, main: 4600, travel: 0 },
        "‡∏û.‡∏Ñ.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏°‡∏¥.‡∏¢.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏Å.‡∏Ñ.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏™.‡∏Ñ.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏Å.‡∏¢.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏ï.‡∏Ñ.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏û.‡∏¢.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏ò.‡∏Ñ.": { life: 13650, main: 8500, travel: 2100 },
      };

      // ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏° (localStorage)
      let extras = {};
      let extraTouched = localStorage.getItem("extraTouched") === "1";

      try {
        extras = JSON.parse(localStorage.getItem("extras") || "{}");
        if (typeof extras !== "object" || Array.isArray(extras)) extras = {};
      } catch {
        extras = {};
      }

      if (!extraTouched && Object.keys(extras).length > 0) {
        extras = {};
        localStorage.removeItem("extras");
      }

      // dropdown ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
      const monthSel = document.getElementById("month");

      Object.keys(plan).forEach((m) => {
        const o = document.createElement("option");
        o.value = m;
        o.textContent = m;
        monthSel.appendChild(o);
      });

      // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏°
      function addExtra() {
        const m = monthSel.value;
        const v = Number(document.getElementById("extra").value || 0);
        if (v <= 0) return;

        extras[m] = (extras[m] || 0) + v;
        localStorage.setItem("extras", JSON.stringify(extras));
        localStorage.setItem("extraTouched", "1");
        extraTouched = true;

        document.getElementById("extra").value = "";
        render();
      }

      // render ‡∏ï‡∏≤‡∏£‡∏≤‡∏á + ‡∏¢‡∏≠‡∏î‡∏£‡∏ß‡∏°
      function render() {
        let sumMain = 0;
        let sumTravel = 0;
        let sumExtra = 0;

        const tbody = document.getElementById("status");
        tbody.innerHTML = "";

        Object.keys(plan).forEach((m) => {
          const p = plan[m];
          const extra = extraTouched ? extras[m] || 0 : 0;

          sumMain += p.main;
          sumTravel += p.travel;
          sumExtra += extra;

          tbody.innerHTML += `
        <tr>
          <td class="left">${m}</td>
          <td>${p.life.toLocaleString()}</td>
          <td>${p.main.toLocaleString()}</td>
          <td>${p.travel.toLocaleString()}</td>
          <td>${extra.toLocaleString()}</td>
        </tr>`;
        });

        // ‡∏£‡∏ß‡∏°‡∏≠‡∏≠‡∏°‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏ó‡∏±‡πâ‡∏á‡∏õ‡∏µ
        document.getElementById("travelSave").textContent =
          sumTravel.toLocaleString();

        // üí∞ ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏∞‡∏™‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        // = ‡∏£‡∏ß‡∏°‡∏≠‡∏≠‡∏°‡∏´‡∏•‡∏±‡∏Å + ‡∏£‡∏ß‡∏°‡∏≠‡∏≠‡∏°‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß + ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏°
        document.getElementById("total").textContent =
          (sumMain + sumTravel + sumExtra).toLocaleString() + " ‡∏ö‡∏≤‡∏ó";

        updateMonthlySplit();
      }

      // ‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏≠‡∏á‡∏≠‡∏≠‡∏°‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô
      function updateMonthlySplit() {
        const m = monthSel.value;
        const main = plan[m].main;

        const emergency = Math.round(main * 0.7);
        const saving = Math.round(main * 0.15);
        const nsf = Math.round(main * 0.05);
        const gold = main - (emergency + saving + nsf);

        document.getElementById("emergency").textContent =
          emergency.toLocaleString();
        document.getElementById("saving").textContent = saving.toLocaleString();
        document.getElementById("nsf").textContent = nsf.toLocaleString();
        document.getElementById("gold").textContent = gold.toLocaleString();
        document.getElementById("mainMonth").textContent =
          main.toLocaleString();
      }

      monthSel.addEventListener("change", updateMonthlySplit);
      render();
    </script>
  </body>
</html>
