<!doctype html>
<html lang="th">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô 2026</title>
    <link rel="icon" href="imgs/2054.jpg" type="image/png" />

    <style>
      /* ===== UI ‡πÄ‡∏î‡∏¥‡∏° (‡πÑ‡∏°‡πà‡πÅ‡∏ï‡∏∞) ===== */
      :root {
        --bg: #f2f2f7;
        --card: #fff;
        --text: #111;
        --muted: #666;
      }
      * {
        box-sizing: border-box;
      }
      body {
        font-family:
          -apple-system, BlinkMacSystemFont, "SF Pro Text", system-ui,
          sans-serif;
        background: var(--bg);
        margin: 0;
        padding: 14px;
        color: var(--text);
        display: flex;
        justify-content: center;
      }
      .container {
        width: 100%;
        max-width: 820px;
      }
      h1 {
        font-size: 1.4rem;
        margin-bottom: 12px;
      }
      .card {
        background: var(--card);
        border-radius: 18px;
        padding: 14px;
        margin-bottom: 14px;
        box-shadow: 0 6px 18px rgba(0, 0, 0, 0.06);
      }
      .card h3 {
        margin-top: 0;
      }
      .row {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin: 6px 0;
        font-size: 0.9rem;
        gap: 10px;
      }
      .label {
        color: var(--muted);
      }
      select,
      input,
      button {
        width: 100%;
        height: 48px;
        padding: 0 14px;
        border-radius: 14px;
        border: 1px solid #d1d5db;
        font-size: 1rem;
        margin-bottom: 6px;
      }
      button {
        background: #3c3d3e;
        color: #fff;
        border: none;
        font-weight: 600;
        margin-top: 8px;
      }
      .table-wrap {
        overflow-x: auto;
      }
      table {
        width: 100%;
        min-width: 700px;
        border-collapse: collapse;
        font-size: 0.8rem;
      }
      th,
      td {
        padding: 8px 6px;
        border-bottom: 1px solid #eee;
        text-align: center;
        white-space: nowrap;
      }
      th {
        background: #f9fafb;
      }
      .left {
        text-align: left;
      }
      th:first-child,
      td:first-child {
        position: sticky;
        left: 0;
        background: #fff;
      }
      th:first-child {
        background: #f1f5f9;
      }
      hr {
        border: none;
        border-top: 1px solid #eee;
        margin: 10px 0;
      }
    </style>
  </head>

  <body>
    <div class="container">
      <h1>‡πÅ‡∏ú‡∏ô‡∏Å‡∏≤‡∏£‡πÄ‡∏á‡∏¥‡∏ô 2026</h1>

      <!-- ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏° -->
      <div class="card">
        <h3>‚ûï ‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏°</h3>
        <select id="month"></select>
        <input
          type="number"
          id="extra"
          placeholder="‡πÉ‡∏™‡πà + ‡πÄ‡∏û‡∏¥‡πà‡∏° / - ‡πÑ‡∏Ç‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏°"
        />
        <button onclick="addExtra()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      </div>

      <!-- ‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏≠‡∏° -->
      <div class="card">
        <h3>‚úèÔ∏è ‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏≠‡∏° (‡∏≠‡∏≠‡∏°‡∏´‡∏•‡∏±‡∏Å / ‡∏≠‡∏≠‡∏°‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß)</h3>
        <select id="adjustMonth"></select>
        <select id="adjustType">
          <option value="main">‡∏≠‡∏≠‡∏°‡∏´‡∏•‡∏±‡∏Å</option>
          <option value="travel">‡∏≠‡∏≠‡∏°‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß</option>
        </select>
        <input
          type="number"
          id="adjustValue"
          placeholder="‡πÉ‡∏™‡πà + ‡πÄ‡∏û‡∏¥‡πà‡∏° / - ‡πÑ‡∏Ç‡∏≠‡∏≠‡∏°"
        />
        <button onclick="addAdjust()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
      </div>

      <div class="card">
        <h3>üìä ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÅ‡∏ú‡∏ô‡∏£‡∏≤‡∏¢‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</h3>
        <div class="table-wrap">
          <table>
            <thead>
              <tr>
                <th>‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</th>
                <th>‡πÉ‡∏ä‡πâ‡∏ä‡∏µ‡∏ß‡∏¥‡∏ï‡∏£‡∏ß‡∏°</th>
                <th>‡∏≠‡∏≠‡∏°‡∏´‡∏•‡∏±‡∏Å</th>
                <th>‡∏≠‡∏≠‡∏°‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß</th>
                <th>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏°</th>
              </tr>
            </thead>
            <tbody id="status"></tbody>
          </table>
        </div>
      </div>

      <div class="card">
        <h3>üè¶ ‡∏Å‡∏≤‡∏£‡πÅ‡∏ö‡πà‡∏á‡∏Å‡∏≠‡∏á‡∏≠‡∏≠‡∏° / ‡πÄ‡∏î‡∏∑‡∏≠‡∏ô</h3>
        <div class="row">
          <span>üö® ‡πÄ‡∏á‡∏¥‡∏ô‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</span><span id="emergency">0</span>
        </div>
        <div class="row">
          <span>üè¶ ‡∏â‡∏•‡∏≤‡∏Å‡∏≠‡∏≠‡∏°‡∏™‡∏¥‡∏ô</span><span id="saving">0</span>
        </div>
        <div class="row"><span>üßì ‡∏Å‡∏≠‡∏ä.</span><span id="nsf">0</span></div>
        <div class="row"><span>üü° ‡∏≠‡∏≠‡∏°‡∏ó‡∏≠‡∏á</span><span id="gold">0</span></div>
        <hr />
        <div class="row">
          <strong>‡∏£‡∏ß‡∏°‡∏≠‡∏≠‡∏°‡∏´‡∏•‡∏±‡∏Å‡πÄ‡∏î‡∏∑‡∏≠‡∏ô‡∏ô‡∏µ‡πâ</strong><strong id="mainMonth">0</strong>
        </div>
      </div>

      <!-- ‚úÖ ‡πÅ‡∏Å‡πâ‡∏ï‡∏£‡∏á‡∏ô‡∏µ‡πâ -->
      <div class="card">
        <h3>üè¶ ‡∏™‡∏£‡∏∏‡∏õ‡∏¢‡∏≠‡∏î</h3>
        <div class="row">
          <strong>‡∏≠‡∏≠‡∏°‡∏´‡∏•‡∏±‡∏Å‡∏£‡∏ß‡∏°</strong><strong id="sumMain">0</strong>
        </div>
        <div class="row">
          <strong>‡∏≠‡∏≠‡∏°‡πÄ‡∏ó‡∏µ‡πà‡∏¢‡∏ß‡∏£‡∏ß‡∏°</strong><strong id="sumTravel">0</strong>
        </div>
        <div class="row">
          <strong>‡∏£‡∏≤‡∏¢‡πÑ‡∏î‡πâ‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏£‡∏ß‡∏°</strong><strong id="sumExtra">0</strong>
        </div>
      </div>

      <div class="card">
        <h3>üí∞ ‡πÄ‡∏á‡∏¥‡∏ô‡πÄ‡∏Å‡πá‡∏ö‡∏™‡∏∞‡∏™‡∏°‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</h3>
        <h2 id="total">0 ‡∏ö‡∏≤‡∏ó</h2>
      </div>
    </div>

    <script>
      const plan = {
        "‡∏°.‡∏Ñ.": { life: 12650, main: 9500, travel: 2100 },
        "‡∏Å.‡∏û.": { life: 12650, main: 9500, travel: 2100 },
        "‡∏°‡∏µ.‡∏Ñ.": { life: 12650, main: 9500, travel: 2100 },
        "‡πÄ‡∏°.‡∏¢.": { life: 19650, main: 4600, travel: 0 },
        "‡∏û.‡∏Ñ.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏°‡∏¥.‡∏¢.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏Å.‡∏Ñ.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏™.‡∏Ñ.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏Å.‡∏¢.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏ï.‡∏Ñ.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏û.‡∏¢.": { life: 13650, main: 8500, travel: 2100 },
        "‡∏ò.‡∏Ñ.": { life: 13650, main: 8500, travel: 2100 },
      };

      const monthSel = document.getElementById("month");
      const adjustMonthSel = document.getElementById("adjustMonth");
      const statusEl = document.getElementById("status");
      const totalEl = document.getElementById("total");

      const emergencyEl = document.getElementById("emergency");
      const savingEl = document.getElementById("saving");
      const nsfEl = document.getElementById("nsf");
      const goldEl = document.getElementById("gold");
      const mainMonthEl = document.getElementById("mainMonth");

      const sumTravelEl = document.getElementById("sumTravel");
      const sumExtraEl = document.getElementById("sumExtra");
      const sumMainEl = document.getElementById("sumMain");

      let extras = JSON.parse(localStorage.getItem("extras") || "{}");
      let adjust = JSON.parse(localStorage.getItem("adjust") || "{}");

      Object.keys(plan).forEach((m) => {
        monthSel.add(new Option(m, m));
        adjustMonthSel.add(new Option(m, m));
      });

      monthSel.value = Object.keys(plan)[0];
      adjustMonthSel.value = Object.keys(plan)[0];

      function addExtra() {
        const m = monthSel.value;
        const v = Number(extra.value);
        if (!v) return;
        extras[m] = (extras[m] || 0) + v;
        localStorage.setItem("extras", JSON.stringify(extras));
        extra.value = "";
        render();
      }

      function addAdjust() {
        const m = adjustMonthSel.value;
        const type = adjustType.value;
        const v = Number(adjustValue.value);
        if (!v) return;
        if (!adjust[m]) adjust[m] = { main: 0, travel: 0 };
        adjust[m][type] += v;
        localStorage.setItem("adjust", JSON.stringify(adjust));
        adjustValue.value = "";
        render();
      }

      function render() {
        let sumMain = 0,
          sumTravel = 0,
          sumExtra = 0;
        statusEl.innerHTML = "";

        Object.keys(plan).forEach((m) => {
          const p = plan[m];
          const a = adjust[m] || { main: 0, travel: 0 };
          const e = extras[m] || 0;

          const main = p.main + a.main;
          const travel = p.travel + a.travel;

          sumMain += main;
          sumTravel += travel;
          sumExtra += e;

          statusEl.innerHTML += `
          <tr>
            <td>${m}</td>
            <td>${p.life.toLocaleString()}</td>
            <td>${main.toLocaleString()}</td>
            <td>${travel.toLocaleString()}</td>
            <td>${e.toLocaleString()}</td>
          </tr>`;
        });
        sumTravelEl.textContent = sumTravel.toLocaleString();
        sumExtraEl.textContent = sumExtra.toLocaleString();
        sumMainEl.textContent = sumMain.toLocaleString(); 
        totalEl.textContent =
          (sumMain + sumTravel + sumExtra).toLocaleString() + " ‡∏ö‡∏≤‡∏ó";

        updateMonthlySplit();
      }

      function updateMonthlySplit() {
        const m = monthSel.value;
        const main = plan[m].main + (adjust[m]?.main || 0);
        const emergency = Math.round(main * 0.65);
        const saving = Math.round(main * 0.15);
        const gold = Math.round(main * 0.12);
        const nsf = main - (emergency + saving + gold);

        emergencyEl.textContent = emergency.toLocaleString();
        savingEl.textContent = saving.toLocaleString();
        goldEl.textContent = gold.toLocaleString();
        nsfEl.textContent = nsf.toLocaleString();
        mainMonthEl.textContent = main.toLocaleString();
      }

      monthSel.addEventListener("change", updateMonthlySplit);
      render();
    </script>
  </body>
</html>
